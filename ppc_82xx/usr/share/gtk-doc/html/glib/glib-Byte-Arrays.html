<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Byte Arrays</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><meta name="generator" content="GTK-Doc V1.0 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="GLib Reference Manual"><link rel="up" href="glib-data-types.html" title="GLib Data Types"><link rel="previous" href="glib-Pointer-Arrays.html" title="Pointer Arrays"><link rel="next" href="glib-Balanced-Binary-Trees.html" title="Balanced Binary Trees"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="glib-Pointer-Arrays.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="glib-data-types.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GLib Reference Manual</th><td><a accesskey="n" href="glib-Balanced-Binary-Trees.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry"><a name="glib-Byte-Arrays"></a><div class="titlepage"></div><div class="refnamediv"><h2>Byte Arrays</h2><p>Byte Arrays &#8212; arrays of bytes, which grow automatically as elements are added.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;glib.h&gt;


struct      <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>;
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-new">g_byte_array_new</a>                (void);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-sized-new">g_byte_array_sized_new</a>          (<a href="glib-Basic-Types.html#guint">guint</a> reserved_size);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-append">g_byte_array_append</a>             (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             const <a href="glib-Basic-Types.html#guint8">guint8</a> *data,
                                             <a href="glib-Basic-Types.html#guint">guint</a> len);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-prepend">g_byte_array_prepend</a>            (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             const <a href="glib-Basic-Types.html#guint8">guint8</a> *data,
                                             <a href="glib-Basic-Types.html#guint">guint</a> len);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-remove-index">g_byte_array_remove_index</a>       (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> index_);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-remove-index-fast">g_byte_array_remove_index_fast</a>  (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> index_);
void        <a href="glib-Byte-Arrays.html#g-byte-array-sort">g_byte_array_sort</a>               (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Doubly-Linked-Lists.html#GCompareFunc">GCompareFunc</a> compare_func);
void        <a href="glib-Byte-Arrays.html#g-byte-array-sort-with-data">g_byte_array_sort_with_data</a>     (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Doubly-Linked-Lists.html#GCompareDataFunc">GCompareDataFunc</a> compare_func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* <a href="glib-Byte-Arrays.html#g-byte-array-set-size">g_byte_array_set_size</a>           (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> length);
<a href="glib-Basic-Types.html#guint8">guint8</a>*     <a href="glib-Byte-Arrays.html#g-byte-array-free">g_byte_array_free</a>               (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> free_segment);
</pre></div><div class="refsect1"><h2>Description</h2><p>
<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> is based on <a href="glib-Arrays.html#GArray">GArray</a>, to provide arrays of bytes which grow
automatically as elements are added.
</p><p>
To create a new <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> use <a href="glib-Byte-Arrays.html#g-byte-array-new">g_byte_array_new</a>().
</p><p>
To add elements to a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>, use <a href="glib-Byte-Arrays.html#g-byte-array-append">g_byte_array_append</a>(), and
<a href="glib-Byte-Arrays.html#g-byte-array-prepend">g_byte_array_prepend</a>().
</p><p>
To set the size of a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>, use <a href="glib-Byte-Arrays.html#g-byte-array-set-size">g_byte_array_set_size</a>().
</p><p>
To free a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>, use <a href="glib-Byte-Arrays.html#g-byte-array-free">g_byte_array_free</a>().
</p><div class="example"><p class="title"><b>Example 6. Using a GByteArray</b></p><pre class="programlisting">
  GByteArray *gbarray;
  gint i;

  gbarray = g_byte_array_new ();
  for (i = 0; i &lt; 10000; i++)
    g_byte_array_append (gbarray, (guint8*) &quot;abcd&quot;, 4);

  for (i = 0; i &lt; 10000; i++)
    {
      g_assert (gbarray-&gt;data[4*i] == 'a');
      g_assert (gbarray-&gt;data[4*i+1] == 'b');
      g_assert (gbarray-&gt;data[4*i+2] == 'c');
      g_assert (gbarray-&gt;data[4*i+3] == 'd');
    }

  g_byte_array_free (gbarray, TRUE);
</pre></div></div><div class="refsect1"><h2>Details</h2><div class="refsect2"><h3><a name="GByteArray"></a>struct GByteArray</h3><pre class="programlisting">struct GByteArray {

  guint8 *data;
  guint	  len;
};
</pre><p>
The GByteArray struct allows access to the public fields of a GByteArray.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><a href="glib-Basic-Types.html#guint8">guint8</a> *<i><tt>data</tt></i></span></td><td>a pointer to the element data. The data may be moved as elements are
added to the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><a href="glib-Basic-Types.html#guint">guint</a> <i><tt>len</tt></i></span></td><td>the number of elements in the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.

</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-new"></a>g_byte_array_new ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_new                (void);</pre><p>
Creates a new <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the new <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-sized-new"></a>g_byte_array_sized_new ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_sized_new          (<a href="glib-Basic-Types.html#guint">guint</a> reserved_size);</pre><p>
Creates a new <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> with <i><tt>reserved_size</tt></i> bytes preallocated. This
avoids frequent reallocation, if you are going to add many bytes to
the array. Note however that the size of the array is still 0.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>reserved_size</tt></i> :</span></td><td>number of bytes preallocated.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the new <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-append"></a>g_byte_array_append ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_append             (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             const <a href="glib-Basic-Types.html#guint8">guint8</a> *data,
                                             <a href="glib-Basic-Types.html#guint">guint</a> len);</pre><p>
Adds the given bytes to the end of the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
The array will grow in size automatically if necessary.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>data</tt></i> :</span></td><td>the byte data to be added.
</td></tr><tr><td><span class="term"><i><tt>len</tt></i> :</span></td><td>the number of bytes to add.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-prepend"></a>g_byte_array_prepend ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_prepend            (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             const <a href="glib-Basic-Types.html#guint8">guint8</a> *data,
                                             <a href="glib-Basic-Types.html#guint">guint</a> len);</pre><p>
Adds the given data to the start of the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
The array will grow in size automatically if necessary.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>data</tt></i> :</span></td><td>the byte data to be added.
</td></tr><tr><td><span class="term"><i><tt>len</tt></i> :</span></td><td>the number of bytes to add.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-remove-index"></a>g_byte_array_remove_index ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_remove_index       (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> index_);</pre><p>
Removes the byte at the given index from a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
The following bytes are moved down one place.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>index_</tt></i> :</span></td><td>the index of the byte to remove.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-remove-index-fast"></a>g_byte_array_remove_index_fast ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_remove_index_fast  (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> index_);</pre><p>
Removes the byte at the given index from a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
The last element in the array is used to fill in the space, so this function
does not preserve the order of the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>. But it is faster than
<a href="glib-Byte-Arrays.html#g-byte-array-remove-index">g_byte_array_remove_index</a>().
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>index_</tt></i> :</span></td><td>the index of the byte to remove.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-sort"></a>g_byte_array_sort ()</h3><pre class="programlisting">void        g_byte_array_sort               (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Doubly-Linked-Lists.html#GCompareFunc">GCompareFunc</a> compare_func);</pre><p>
Sorts a byte array, using <i><tt>compare_func</tt></i> which should be a <tt>qsort()</tt>-style
comparison function (returns -1 for first arg is less than second arg, 0 for
equal, 1 if first arg is greater than second arg).
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>compare_func</tt></i> :</span></td><td>comparison function.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-sort-with-data"></a>g_byte_array_sort_with_data ()</h3><pre class="programlisting">void        g_byte_array_sort_with_data     (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Doubly-Linked-Lists.html#GCompareDataFunc">GCompareDataFunc</a> compare_func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);</pre><p>
Like <a href="glib-Byte-Arrays.html#g-byte-array-sort">g_byte_array_sort</a>(), but the comparison function takes a user data argument.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>compare_func</tt></i> :</span></td><td>comparison function.
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td>data to pass to <i><tt>compare_func</tt></i>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-set-size"></a>g_byte_array_set_size ()</h3><pre class="programlisting"><a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>* g_byte_array_set_size           (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#guint">guint</a> length);</pre><p>
Sets the size of the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>, expanding it if necessary.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>length</tt></i> :</span></td><td>the new size of the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="g-byte-array-free"></a>g_byte_array_free ()</h3><pre class="programlisting"><a href="glib-Basic-Types.html#guint8">guint8</a>*     g_byte_array_free               (<a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a> *array,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> free_segment);</pre><p>
Frees the memory allocated by the <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
If <i><tt>free_segment</tt></i> is <tt>TRUE</tt> it frees the actual byte data.
</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>array</tt></i> :</span></td><td>a <a href="glib-Byte-Arrays.html#GByteArray">GByteArray</a>.
</td></tr><tr><td><span class="term"><i><tt>free_segment</tt></i> :</span></td><td>if <tt>TRUE</tt> the actual byte data is freed as well.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="glib-Pointer-Arrays.html"><b>&lt;&lt; Pointer Arrays</b></a></td><td align="right"><a accesskey="n" href="glib-Balanced-Binary-Trees.html"><b>Balanced Binary Trees &gt;&gt;</b></a></td></tr></table></body></html>
